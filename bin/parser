#!/usr/bin/env ruby

require "bundler/setup"
require "smart_pension_test"

log_file = ARGV.first

log_parser = SmartPensionTest::LogParser.new(log_file)
log_analyzer = SmartPensionTest::LogAnalyzer.new(log_parser.data)


log_analyzer.most_page_views.each do |log_item|
  puts "#{log_item[:path]} #{log_item[:visit_count]} views"
end